---
// src/pages/servicio/index.astro
import Layout from "../../layouts/Layout.astro";
import ServicioDetalleIsland from "../../components/ServicioDetalleIsland.tsx";
import GoogleAdIsland from "../../components/GoogleAdIsland.tsx";

const SLOT_DETAIL = import.meta.env.PUBLIC_ADSENSE_SLOT_DETAIL;

const SITE = import.meta.env.PUBLIC_SITE_URL || "https://enmipueblo.com";

const id = Astro.url.searchParams.get("id") || "";

const canonical = id ? `${SITE}/servicio?id=${encodeURIComponent(id)}` : `${SITE}/servicio`;
---

<Layout
  title="Servicio | EnMiPueblo"
  description="Detalle del servicio publicado en EnMiueblo. Contacta con el profesional por email o WhatsApp."
  ogType="article"
  canonical={canonical}
>
  <section class="mx-auto max-w-6xl px-4 py-10">
    <div class="rounded-3xl border bg-white/70 backdrop-blur shadow-[0_18px_50px_-40px_rgba(0,0,0,0.25)]" style="border-color: var(--sb-border);">
      <div class="p-5 md:p-8">
        <div class="flex items-start justify-between gap-3 flex-wrap">
          <div>
            <h1 class="text-2xl md:text-3xl font-extrabold" style="color: var(--sb-ink);">Detalle del servicio</h1>
            <p class="mt-1 text-sm" style="color: var(--sb-ink2);">Fotos, descripci√≥n y contacto.</p>
          </div>
          <div class="w-full md:w-auto">
            <GoogleAdIsland client:idle slot={SLOT_DETAIL} minHeight={120} />
          </div>
        </div>

        <div class="mt-6 rounded-3xl border bg-white/60" style="border-color: var(--sb-border);">
          <div class="p-4 md:p-6">
            <ServicioDetalleIsland client:load />
          </div>
        </div>
      </div>
    </div>
  </section>
</Layout>
